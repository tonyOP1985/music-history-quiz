<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://fonts.googleapis.com/css?family=Quintessential" rel="stylesheet">
  <link rel="stylesheet" href="public/style.css">
  <title>Music History Quiz</title>
</head>

<body>
  <div class="main" id="app">
    <div class="inner-main" v-if="!start">
      <h1 class="msg title">Music History Quiz</h1>
      <h1 class="msg">{{ msg }}</h1>

      <div class="start">
        <button class="btn btn-start" @click.prevent="start = !start; setQue()">Start Quiz</button>
      </div>
    </div>

    <div class="inner-main" v-else-if="start && !results">
      <div v-show="!userAnswer.length">
        <div v-show="count > 0">
          <h1 class="msg">Time remaining: {{ count }}</h1>
        </div>
        <div v-show="count === 0">
          <h1 class="msg">Times Up!</h1>
        </div>
        <div class="content">
          <div class="question">
            <h1>{{ que.question }}</h1>
          </div>
          <div class="options" v-show="count > 0">
            <button class="btn-option" v-for="(opt, index) in que.option" @click.prevent="isCorrect(que.option[index])">{{ opt }}</button>
          </div>
          <div class="options" v-show="count === 0">
            <button class="btn-option-answer">{{ que.answer }}</button>
          </div>
        </div>
      </div>


      <div v-if="count === 0 && !userAnswer">
        <div v-if="next < 8">
          <button class="btn btn-start" @click.prevent="setQue(); nextQuestion()">Next</button>
        </div>
        <div v-if="next === 8">
            <button class="btn btn-start" @click.prevent="results = !results">See Results</button>
          </div>
      </div>

      <div v-show="correct">
        <div class="msg">Correct!</div>
        <div class="incorrect">
          <img src="public/img/Green_tick.svg.hi.png" alt="Green Check">
        </div>
        <div v-if="next < questions.length">
          <button class="btn btn-start" @click.prevent="setQue(); nextQuestion()">Next</button>
        </div>
        <div v-if="next === questions.length">
          <button class="btn btn-start" @click.prevent="results = !results">See Results</button>
        </div>
      </div>

      <div v-show="incorrect">
        <h1 class="msg times-up">Incorrect The correct answer is: {{ que.answer }}</h1>
        <div class="incorrect">
          <img src="public/img/Red_X.svg.png" alt="Red X">
        </div>
        <div v-if="next < questions.length">
          <button class="btn btn-start" @click.prevent="setQue(); nextQuestion()">Next</button>
        </div>
        <div v-if="next === questions.length">
          <button class="btn btn-start" @click.prevent="results = !results">See Results</button>
        </div>
      </div>
    </div>

    <div class="inner-main" v-else-if="results">
      <div class="results">
        <h1 class="msg title">Results</h1>
        <h1 class="msg">Correct: {{ correctAnswer }}</h1>
        <h1 class="msg">Incorrect: {{ wrongAnswer }}</h1>
        <h1 class="msg">Unanswered: {{ unanswered }}</h1>
      </div>
      <div>
        <button class="btn btn-start" @click="reset()">Reset Quiz</button>
      </div>
    </div>
  </div>
  <script src="node_modules/vue/dist/vue.js"></script>
  <script type="text/javascript" src="public/app.js"></script>

</body>

</html>